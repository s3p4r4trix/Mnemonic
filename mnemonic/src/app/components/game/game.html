<div class="game-area">
  <h1 class="game-title">Mnemonic Trainer</h1>
  <div class="stats">
    <p>Level: {{ gameService.currentLevel() }}</p>
    <p>Score: {{ gameService.score() }}</p>
    <p>Tiles to remember: {{ gameService.numTilesToLight() }}</p>
    @if (gameService.gameState() !== 'over') {
      <p>Lives: {{ gameService.lives() }}</p>
    }
  </div>

  @if (gameService.gameState() === 'idle' || gameService.gameState() === 'over') {
    <button (click)="startGame()">
      {{ gameService.gameState() === 'over' ? 'Play Again' : 'Start Game' }}
    </button>
  }

  @if (gameService.gameState() === 'sequence') {
    <div class="message">
      Memorize the sequence...
    </div>
  }
  @if (gameService.gameState() === 'input') {
    <div class="message">
      Your turn! Click the tiles.
    </div>
  }
  @if (gameService.gameState() === 'checking') {
    <div class="message">
      Checking...
    </div>
  }
  @if (gameService.gameState() === 'over') {
    <div class="message game-over">
      <span class="game-over-text">Game Over!</span>
      <span class="final-score-label">Final Score:</span>
      <span class="final-score-value">{{ gameService.score() }}</span>
    </div>
  }

  @if (gameService.gameState() !== 'idle' && gameService.gameState() !== 'over') {
    <app-grid></app-grid>
  }

  @if (message()) {
    <div class="flash-message">{{ message() }}</div>
  }
</div>

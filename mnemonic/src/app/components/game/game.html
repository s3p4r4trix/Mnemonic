<div class="game-area">
  <h1 class="game-title">Mnemonic Trainer</h1>
  <div class="stats">
    <p>Score: {{ gameService.score() }}</p>
    <p>Tiles to remember: {{ gameService.numTilesToLight() }}</p>
  </div>

  @if (gameService.gameState() === 'idle' || gameService.gameState() === 'over') {
    <button class="start-button" (click)="startGame()">
      {{ gameService.gameState() === 'over' ? 'Play Again' : 'Start Game' }}
    </button>
  }

  @if (gameService.gameState() === 'sequence') {
    <div class="message">
      Memorize the sequence...
    </div>
  }
  @if (gameService.gameState() === 'input') {
    <div class="message">
      <p>Your turn! Click the tiles.</p>
      <p>Double score as long as in sequence!</p>
    </div>
  }
  @if (gameService.gameState() === 'checking') {
    <div class="message">
      Checking...
    </div>
  }
  @if (gameService.gameState() === 'over') {
    <div class="message game-over">
      <span class="game-over-text">Game Over!</span>
      <div class="stats">
        <p>Level: {{ gameService.currentLevel() }}</p>
        <p>Tiles to remember: {{ gameService.numTilesToLight() }}</p>
      </div>

      <span class="final-score-label">Final Score:</span>
      <span class="final-score-value">{{ gameService.score() }}</span>
    </div>
  }

  @if (gameService.gameState() !== 'idle') {
    <app-grid></app-grid>
  }
</div>
